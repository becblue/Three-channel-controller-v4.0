# OLED 界面布局参考

## 屏幕参数

| 参数         | 值                                          |
|--------------|---------------------------------------------|
| 屏幕尺寸     | 2.42 英寸 SSD1309                           |
| 分辨率       | 128 x 64 像素                               |
| 接口         | I2C，地址 0x78                              |
| 小字体 6x8   | 每行最多 21 字符，共 8 行（行0 到 行7）     |
| 大字体 8x16  | 每行最多 16 字符，每字占 2 行高             |
| 行高换算     | 行号 x 8 = 像素起始 Y（row2 = y16）        |

---

## 界面1：LOGO 显示

> 触发时机：上电后 SelfTest_Start() 调用，持续 **2000ms**

```
屏幕宽 128px
row0  [                     ]
row1  [                     ]
row2  [                     ]
row3  [     公司 LOGO 居中   ]  OLED_ShowLogo()
row4  [                     ]
row5  [                     ]
row6  [                     ]
row7  [                     ]
屏幕高 64px
```

---

## 界面2：自检进度

> 触发时机：LOGO 结束后，持续约 **3500ms**（Step1 到 Step4）

```
屏幕宽 128px
row0  [ Self Testing...      ]  6x8 固定标题
row1  [                      ]
row2  [ 进度条区域            ]  OLED_ShowProgress(0 ~ 100)
row3  [ 进度条区域            ]
row4  [                      ]
row5  [                      ]
row6  [ Step1:State Check    ]  6x8 步骤名（随步骤自动切换）
row7  [                      ]
屏幕高 64px
```

步骤名称切换顺序：

| 步骤  | 进度范围    | row6 显示文字      |
|-------|-------------|--------------------|
| Step1 | 0% → 25%   | Step1:State Check  |
| Step2 | 25% → 50%  | Step2:Relay Check  |
| Step3 | 50% → 75%  | Step3:SwitchCheck  |
| Step4 | 75% → 100% | Step4:Temp Check   |

---

## 界面3：自检结果（PASS / FAIL）

> 触发时机：Step4 完成后，持续 **1500ms**，结束后切入运行主界面

**通过（PASS）：**

```
屏幕宽 128px
row0  [                      ]
row1  [                      ]
row2  [     Self Test        ]  8x16 大字，x=20（占 row2~3）
row3  [     Self Test        ]
row4  [                      ]
row5  [         PASS         ]  8x16 大字，x=40（占 row5~6）
row6  [         PASS         ]
row7  [                      ]
屏幕高 64px
```

**失败（FAIL）：**

```
屏幕宽 128px
row0  [                      ]
row1  [                      ]
row2  [     Self Test        ]  8x16 大字，x=20（占 row2~3）
row3  [     Self Test        ]
row4  [                      ]
row5  [         FAIL         ]  8x16 大字，x=40（占 row5~6）
row6  [         FAIL         ]
row7  [                      ]
屏幕高 64px
```

---

## 界面4：运行主界面（当前实现，阶段10）

> 触发时机：自检结束后常驻，**每 500ms 刷新**一次

```
屏幕宽 128px
row0  [ Alarm: Normal        ]  6x8，无异常时
      [ ERR:A B K N          ]  6x8，有异常时（显示错误码字母列表）
row1  [                      ]
      [======================]  y=15，水平分割线 DrawLine(0,15,127,15)
row2  [ CH:1=ON  2=OFF 3=OFF ]  6x8，三路通道开关状态
row3  [                      ]  保留（空白）
row4  [                      ]  保留（空白）
row5  [                      ]
      [======================]  y=47，水平分割线 DrawLine(0,47,127,47)
row6  [ 25.6/27.3/24.8C      ]  6x8，三路 NTC 温度（°C）
row7  [ Fan:50%  RPM:1200    ]  6x8，风扇占空比 + 实测转速
屏幕高 64px
```

**字段说明：**

| 字段   | 格式示例             | 说明                               |
|--------|----------------------|------------------------------------|
| 报警行 | Alarm: Normal        | 无任何异常                         |
| 报警行 | ERR:A B N            | A~O 共 15 种异常，有哪个显哪个     |
| 通道行 | CH:1=ON  2=OFF 3=OFF | ON=通道激活，OFF=通道关断          |
| 温度行 | 25.6/27.3/24.8C      | NTC1/NTC2/NTC3，单位摄氏度         |
| 风扇行 | Fan:50%  RPM:1200    | 占空比 + 实测转速（RPM）           |

---

## 待修改布局（用户填写）

> 请在下方描述你期望的新布局，填好后告诉我，我按此修改代码：

```
屏幕宽 128px
row0  [                      ]
row1  [                      ]
row2  [                      ]
row3  [                      ]
row4  [                      ]
row5  [                      ]
row6  [                      ]
row7  [                      ]
屏幕高 64px
```
